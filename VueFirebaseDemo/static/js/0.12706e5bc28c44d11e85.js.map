{"version":3,"sources":["webpack:///src/components/Recaptcha.vue","webpack:///./src/components/Recaptcha.vue?cd7e","webpack:///./src/components/Recaptcha.vue","webpack:///src/components/Register.vue","webpack:///./src/components/Register.vue?4a92","webpack:///./src/components/Register.vue","webpack:///src/page/Login.vue","webpack:///./src/page/Login.vue?f5f0","webpack:///./src/page/Login.vue"],"names":["Recaptcha","widgetId","_this","this","captchaKey","computed","extends_default","Object","vuex_esm","render","components_Recaptcha","_h","$createElement","_self","_c","staticClass","attrs","id","data-sitekey","staticRenderFns","src_components_Recaptcha","__webpack_require__","normalizeComponent","ssrContext","Register","Boolean","callback","methods","_this2","valid","registerForm","changeToLogin","state","initForm","reSetRecaptcha","res","reset","components_Register","_vm","ref","model","rules","registerRules","prop","type","placeholder","auto-complete","value","$$v","$set","expression","_v","on","verify","doRecaptcha","directives","name","rawName","modifiers","fullscreen","lock","element-loading-text","element-loading-spinner","element-loading-background","click","$event","submitForm","Login","Register_normalizeComponent","rememberAcc","message","then","_ref3","_this3","item","cssChange","page_Login","class","afterLoading","berforLoading","isRegister","loginForm","loginRules","label","forgetPass","Login_Component","Login_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"VueFirebaseDemo/static/js/0.12706e5bc28c44d11e85.js","sourcesContent":["<template>\n    <div id=\"g-recaptcha\" class=\"g-recaptcha\" :data-sitekey=\"captchaKey\"></div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nexport default {\n  data(){\n      return {\n          widgetId:0\n      }\n  },\n  methods: {\n    reset () {\n      window.grecaptcha.reset(this.widgetId)\n    },\n    render () {\n        if (window.grecaptcha) {\n        this.widgetId = window.grecaptcha.render('g-recaptcha', {\n          sitekey: this.captchaKey,\n          callback: (response) => {\n            this.$emit('verify', this.widgetId)\n          }\n        });\n      }\n    }\n  },\n  computed:{\n      ...mapGetters(['captchaKey'])\n  },\n  mounted () {\n    this.render()\n  }\n}\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Recaptcha.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-recaptcha\",attrs:{\"id\":\"g-recaptcha\",\"data-sitekey\":_vm.captchaKey}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d41f69c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Recaptcha.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d41f69c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Recaptcha.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recaptcha.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recaptcha.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d41f69c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Recaptcha.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Recaptcha.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-form :model=\"registerForm\" :rules=\"registerRules\" ref=\"registerForm\" class=\"registerForm\">\n        <el-form-item prop=\"account\">\n            <el-input type=\"text\" placeholder=\"E-MAIL\" v-model.lazy=\"registerForm.account\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n            <el-input type=\"password\" placeholder=\"密碼\" v-model.lazy=\"registerForm.password\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"checkpass\">\n            <el-input type=\"password\" placeholder=\"確認密碼\" v-model.lazy=\"registerForm.checkpass\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <Recaptcha ref=\"recaptcha\" @verify=\"doRecaptcha\"></Recaptcha>\n        <el-form-item>\n            <el-button class=\"btnGroup\" type=\"primary\" @click=\"submitForm('registerForm')\"  \n                        v-loading.fullscreen.lock=\"isLoading\"\n                        element-loading-text=\"註冊中\"\n                        element-loading-spinner=\"el-icon-loading\"\n                        element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n            >註冊</el-button>\n            <el-button class=\"btnGroup\" @click=\"changeToLogin\">取消</el-button>\n        </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport { mapActions,mapGetters } from 'vuex'\nimport Recaptcha from '@/components/Recaptcha'\nexport default {\n    model:{\n        prop:'isRegister'\n    },\n    props:{\n        isRegister : Boolean\n    },\n    components:{\n        Recaptcha\n    },\n    data(){\n        let validateAcc = (rule, value, callback) => {\n            if (value === \"\") {\n                callback(new Error(\"請輸入帳號\"));\n            } else {\n                callback();\n            }\n        };\n        let validatePass = (rule, value, callback) => {\n            if (value === \"\") {\n                callback(new Error(\"請輸入密碼\"));\n            } else {\n                callback();\n            }\n        };\n        var validateCheckpass = (rule, value, callback) => {\n            if (value === '') {\n                callback(new Error('請再輸入一次密碼'));\n            } else if (value !== this.registerForm.password) {\n                callback(new Error('密碼不一致!'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            registerForm :{\n                account:'',\n                password:'',\n                checkpass:''\n            },\n            registerRules: {\n                account: [{ validator: validateAcc, trigger: \"blur\" }],\n                password: [{ validator: validatePass, trigger: \"blur\" }],\n                checkpass: [{ validator: validateCheckpass, trigger: \"blur\" }],\n            },\n            recaptchaCheck:null\n        }\n    },\n    methods:{\n        ...mapActions(['registerNewAccount']),\n        submitForm(form){\n            this.$refs[form].validate( async (valid) => {\n                if (valid) {\n                    if(this.recaptchaCheck===null){\n                        this.$message({\n                            showClose: true,\n                            message: '請勾選我不是機器人！',\n                            type: 'error'\n                        });\n                        return false;\n                    }\n                    const state = await this.registerNewAccount(this.registerForm);\n                    if(state.message==='success'){\n                        this.$message({\n                            showClose: true,\n                            message: '註冊成功！請到您的信箱進行驗證再登入！',\n                            type: 'success'\n                        });\n                        this.changeToLogin();\n                    }else{\n                        this.$notify.error({\n                            title: '註冊失敗',\n                            message: state,\n                            duration: 8000\n                        });\n                        this.initForm();\n                        this.reSetRecaptcha();\n                    }\n                } else {\n                    return false;\n                }\n            });\n        },\n        initForm(){\n            this.registerForm = {\n                account:'',\n                password:'',\n                checkpass:''\n            }\n        },\n        changeToLogin(){ //返回登入畫面\n            this.$emit('changeToLogin');\n        },\n        doRecaptcha (res) { //機器人驗證結果\n            this.recaptchaCheck=res;\n        },\n        reSetRecaptcha(){ //重置機器人驗證勾勾\n            this.recaptchaCheck = null;\n            this.$refs.recaptcha.reset();\n        }\n    },\n    computed:{\n        ...mapGetters(['isLoading'])\n    }\n}\n</script>\n<style>\n.btnGroup{\n    display: inline-block;\n    width: 100px;\n    margin-top: 10px;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"registerForm\",staticClass:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerRules}},[_c('el-form-item',{attrs:{\"prop\":\"account\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"E-MAIL\",\"auto-complete\":\"off\"},model:{value:(_vm.registerForm.account),callback:function ($$v) {_vm.$set(_vm.registerForm, \"account\", $$v)},expression:\"registerForm.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密碼\",\"auto-complete\":\"off\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"checkpass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"確認密碼\",\"auto-complete\":\"off\"},model:{value:(_vm.registerForm.checkpass),callback:function ($$v) {_vm.$set(_vm.registerForm, \"checkpass\", $$v)},expression:\"registerForm.checkpass\"}})],1),_vm._v(\" \"),_c('Recaptcha',{ref:\"recaptcha\",on:{\"verify\":_vm.doRecaptcha}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.isLoading),expression:\"isLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"btnGroup\",attrs:{\"type\":\"primary\",\"element-loading-text\":\"註冊中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"},on:{\"click\":function($event){_vm.submitForm('registerForm')}}},[_vm._v(\"註冊\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btnGroup\",on:{\"click\":_vm.changeToLogin}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1dc9c087\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1dc9c087\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1dc9c087\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Register.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"login_contain main_contain\">\n        <div :class=\"{afterLoading:cssChange,berforLoading:!cssChange}\">\n            <p class=\"login_title\">Vue + Firebase Demo</p>\n            <div class=\"login_page\" v-if=\"!isRegister\">\n                <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\" class=\"loginForm\">\n                    <el-form-item prop=\"account\">\n                        <el-input type=\"text\" placeholder=\"E-MAIL\" v-model.lazy=\"loginForm.account\" auto-complete=\"off\"></el-input>\n                    </el-form-item>\n                    <el-form-item prop=\"password\">\n                        <el-input type=\"password\" placeholder=\"密碼\" v-model.lazy=\"loginForm.password\" auto-complete=\"off\"></el-input>\n                    </el-form-item>\n                    <Recaptcha ref=\"recaptcha\" @verify=\"doRecaptcha\"></Recaptcha>\n                    <el-checkbox class='loginCheckbox' label=\"記住帳號\" v-model=\"rememberAcc\"></el-checkbox>\n                    <el-checkbox class='loginCheckbox' label=\"保持登入\" v-model=\"loginForm.rememberLogin\"></el-checkbox>\n                    <el-form-item>\n                        <el-button class=\"loginBtn\" type=\"success\" @click=\"submitForm('loginForm')\"  \n                                    v-loading.fullscreen.lock=\"isLoading\"\n                                    element-loading-text=\"驗證中\"\n                                    element-loading-spinner=\"el-icon-loading\"\n                                    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n                        >登入</el-button>\n                        <el-button type=\"text\" @click=\"forgetPass\">忘記密碼？</el-button>\n                    </el-form-item>\n                        <el-button type=\"text\" @click=\"isRegister=!isRegister\">沒有帳號嗎？立刻註冊新帳號！</el-button>\n                </el-form>\n            </div>\n            <div class=\"login_page\" v-else>\n                <Register v-model=\"isRegister\" @changeToLogin=\"isRegister=!isRegister\"></Register>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {mapActions,mapGetters} from 'vuex'\nimport Recaptcha from '@/components/Recaptcha'\nimport Register from '@/components/Register'\n\nexport default {\n    data() {\n        let validateAcc = (rule, value, callback) => {\n            if (value === \"\") {\n                callback(new Error(\"請輸入帳號\"));\n            } else {\n                callback();\n            }\n        };\n        let validatePass = (rule, value, callback) => {\n            if (value === \"\") {\n                callback(new Error(\"請輸入密碼\"));\n            } else {\n                callback();\n            }\n        };\n        return {\n            loginForm: {\n                account: '',\n                password: \"\",\n                rememberLogin:false\n            },\n            loginRules: {\n                account: [{ validator: validateAcc, trigger: \"blur\" }],\n                password: [{ validator: validatePass, trigger: \"blur\" }],\n            },\n            isRegister:false,\n            resetPassAcc:'',\n            recaptchaCheck:null,\n            rememberAcc:false,\n            cssChange:false\n        };\n    },\n    components:{\n        Recaptcha,\n        Register\n    },\n    methods:{\n        ...mapActions(['loginCheck','rememberAccount','resetPassword']),\n        submitForm(form){\n            this.$refs[form].validate( async (valid) => {\n                if (valid) {\n                    if(this.recaptchaCheck===null){\n                        this.$message({\n                            showClose: true,\n                            message: '請勾選我不是機器人！',\n                            type: 'error'\n                        });\n                        return false;\n                    }\n                    const res = await this.loginCheck(this.loginForm); //驗證帳號密碼是否正確\n                    if(res.message==='success'){\n                        this.$message({\n                            showClose: true,\n                            message: '登入成功！',\n                            type: 'success'\n                        });\n                        //有勾記住帳號，並登入成功就存到localStorage\n                        this.rememberAccount({account:this.loginForm.account,remember:this.rememberAcc});\n                        this.$router.replace('runkids.io'); //登入成功轉到首頁\n                    }else{\n                        this.$notify.error({\n                            title: '登入失敗',\n                            message: res.message\n                        });\n                        this.loginForm.password=\"\"; //登入失敗，清空帳號密碼\n                        this.reSetRecaptcha();\n                    }\n                } else {\n                    return false;\n                }\n            });\n        },\n        doRecaptcha (res) {  //機器人驗證回傳結果\n            this.recaptchaCheck=res;\n        },\n        reSetRecaptcha() { //機器人驗證重置\n            this.recaptchaCheck = null;\n            this.$refs.recaptcha.reset();\n        },\n        forgetPass(){\n            const h = this.$createElement;\n            this.$prompt('請輸入您的帳號：', '忘記密碼', {\n                confirmButtonText: '發送重置密碼信件',\n                cancelButtonText: '取消',\n                inputPattern: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\n                inputErrorMessage: '信箱格式有誤！'\n            }).then( async ({ value }) => {\n                const res = await this.resetPassword(value);\n                this.$message({\n                    type: 'warning',\n                    message: res.message\n                });\n            }).catch(() => {\n            });\n        }\n    },\n    computed:{\n        ...mapGetters(['captchaKey','isLoading']),\n    },\n    mounted(){\n        let item = window.localStorage.getItem('rememberAccount');\n        if(item){\n            this.loginForm.account = item;\n            this.rememberAcc=true;\n        }\n        setTimeout(()=>{\n            this.cssChange=!this.cssChange;\n        },500);\n    },\n    beforeDestroy(){\n        this.reSetRecaptcha();\n    }\n};\n</script>\n<style>\n.login_page{\n    width: 302px;\n    height: 310px;\n    margin-left:auto;\n    margin-right:auto;\n    margin-top: 10px;\n    padding:30px;\n    border-radius: 5px;\n    text-align: center;\n    background-color: #fff;\n}\n.loginBtn{\n    margin-top: 10px;\n    width: 302px;\n    background-color: rgba(20, 154, 231, 0.63);\n}\n.login_contain{\n    position: absolute;\n    background-color: #324057;\n}\n.login_title{\n    text-align: center;\n    color: #fff;\n    font-size: 30px;\n    margin-top: 100px;\n}\n.loginCheckbox{\n    margin-top: 10px;\n}\n.berforLoading{\n    opacity: 0;\n    transform: translate3d(0, -50px, 0);\n}\n.afterLoading{\n    transition: all 1s;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_contain main_contain\"},[_c('div',{class:{afterLoading:_vm.cssChange,berforLoading:!_vm.cssChange}},[_c('p',{staticClass:\"login_title\"},[_vm._v(\"Vue + Firebase Demo\")]),_vm._v(\" \"),(!_vm.isRegister)?_c('div',{staticClass:\"login_page\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"prop\":\"account\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"E-MAIL\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.account),callback:function ($$v) {_vm.$set(_vm.loginForm, \"account\", $$v)},expression:\"loginForm.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密碼\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('Recaptcha',{ref:\"recaptcha\",on:{\"verify\":_vm.doRecaptcha}}),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"loginCheckbox\",attrs:{\"label\":\"記住帳號\"},model:{value:(_vm.rememberAcc),callback:function ($$v) {_vm.rememberAcc=$$v},expression:\"rememberAcc\"}}),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"loginCheckbox\",attrs:{\"label\":\"保持登入\"},model:{value:(_vm.loginForm.rememberLogin),callback:function ($$v) {_vm.$set(_vm.loginForm, \"rememberLogin\", $$v)},expression:\"loginForm.rememberLogin\"}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.isLoading),expression:\"isLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"loginBtn\",attrs:{\"type\":\"success\",\"element-loading-text\":\"驗證中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"},on:{\"click\":function($event){_vm.submitForm('loginForm')}}},[_vm._v(\"登入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.forgetPass}},[_vm._v(\"忘記密碼？\")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.isRegister=!_vm.isRegister}}},[_vm._v(\"沒有帳號嗎？立刻註冊新帳號！\")])],1)],1):_c('div',{staticClass:\"login_page\"},[_c('Register',{on:{\"changeToLogin\":function($event){_vm.isRegister=!_vm.isRegister}},model:{value:(_vm.isRegister),callback:function ($$v) {_vm.isRegister=$$v},expression:\"isRegister\"}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4dee089f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4dee089f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4dee089f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}