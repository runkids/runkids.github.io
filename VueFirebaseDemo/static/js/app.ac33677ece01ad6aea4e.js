webpackJsonp([4],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main_contain",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var u=r("VU/8")({},a,!1,function(e){r("XoGa")},null,null).exports,s=r("/ocq"),c=r("NYxO"),o=(r("mtWM"),{signout:function(e){e.userInfo={}},rememberAccount:function(e,t){var r=window.localStorage.getItem("rememberAccount");t.remember&&!r&&window.localStorage.setItem("rememberAccount",t.account),!t.remember&&r&&window.localStorage.removeItem("rememberAccount")},loading:function(e){e.isLoading=!e.isLoading},setUserInfo:function(e,t){e.userInfo=t}}),i=r("Xxa5"),p=r.n(i),f=r("exGp"),m=r.n(f),d=r("SSY3"),h={loginCheck:function(e,t){var r=this,n=e.commit;e.state;return m()(p.a.mark(function e(){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n("loading"),e.next=3,Object(d.f)(t);case 3:if("success"!==(a=e.sent).message){e.next=7;break}return e.next=7,Object(d.h)(a.displayName);case 7:return n("loading"),e.abrupt("return",a);case 9:case"end":return e.stop()}},e,r)}))()},registerNewAccount:function(e,t){var r=this,n=e.commit;return m()(p.a.mark(function e(){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n("loading"),e.next=3,Object(d.g)(t);case 3:return a=e.sent,n("loading"),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,r)}))()},userLogout:function(e){var t=this,r=e.commit;e.state;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r("loading"),e.next=3,Object(d.e)();case 3:r("signout"),r("loading");case 5:case"end":return e.stop()}},e,t)}))()},resetPassword:function(e,t){var r=this;e.commit;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,r)}))()},getUserInfo:function(e){var t=this,r=e.commit;return m()(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)();case 2:return n=e.sent,r("setUserInfo",n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,t)}))()},updateUserInfo:function(e,t){var r=this,n=e.commit;return m()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n("loading"),e.next=3,Object(d.i)(t);case 3:return e.t0=n,e.next=6,Object(d.b)();case 6:return e.t1=e.sent,(0,e.t0)("setUserInfo",e.t1),n("loading"),e.abrupt("return","success");case 10:case"end":return e.stop()}},e,r)}))()},rememberAccount:function(e,t){(0,e.commit)("rememberAccount",t)}};n.default.use(c.a);var l={captchaKey:"6LfjZkAUAAAAAOeAKU23YEQxHndx6-s4iqgGksyT",isLoading:!1,userInfo:{}},b=new c.a.Store({state:l,getters:{captchaKey:function(e){return e.captchaKey},isLoading:function(e){return e.isLoading},userInfo:function(e){return e.userInfo}},mutations:o,actions:h}),g={};g.login=function(e){return r.e(0).then(function(){return e(r("VYHB"))}.bind(null,r)).catch(r.oe)},g.home=function(e){return r.e(1).then(function(){return e(r("ZHiF"))}.bind(null,r)).catch(r.oe)},g.user=function(e){return r.e(2).then(function(){return e(r("heID"))}.bind(null,r)).catch(r.oe)};var v=g;n.default.use(s.a);var w=[{path:"/",component:v.login,meta:[]},{path:"*",redirect:"/runkids.io"},{path:"/runkids.io/",component:v.home,children:[{path:"/user",component:v.user,meta:["設定","個人資訊"]}]}],x=new s.a({routes:w});x.beforeEach(function(e,t,r){e.matched.some(function(e){return e.meta.requiresAuth});"/"===e.path||Object(d.b)()?"/"===e.path&&Object(d.b)()?r("/runkids.io"):r():r("/")});var k=x,A=r("zL8q"),y=r.n(A);r("tvR6");n.default.config.productionTip=!1,n.default.use(y.a);var I=void 0;d.a.onAuthStateChanged(function(e){I||(I=new n.default({el:"#app",router:k,store:b,render:function(e){return e(u)}}))})},SSY3:function(e,t,r){"use strict";var n=r("//Fk"),a=r.n(n),u=r("Xxa5"),s=r.n(u),c=r("exGp"),o=r.n(c),i=r("Sazm"),p=r.n(i),f={apiKey:"AIzaSyDcLFUgG69v9MMBCa9H8HeLWPAyijgGftU",authDomain:"loginwithvue.firebaseapp.com",databaseURL:"https://loginwithvue.firebaseio.com",projectId:"loginwithvue",storageBucket:"loginwithvue.appspot.com",messagingSenderId:"622688795465"};r.d(t,"a",function(){return x}),r.d(t,"g",function(){return k}),r.d(t,"f",function(){return A}),r.d(t,"d",function(){return y}),r.d(t,"e",function(){return I}),r.d(t,"b",function(){return O}),r.d(t,"i",function(){return U}),r.d(t,"c",function(){return L}),r.d(t,"h",function(){return S});var m=this;p.a.initializeApp(f);var d,h,l,b,g,v,w=p.a.database(),x=p.a.auth(),k=(d=o()(s.a.mark(function e(t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,p.a.auth().createUserWithEmailAndPassword(t.account,t.password);case 4:return e.sent,r.message="success",p.a.auth().languageCode="zh-tw",e.next=9,p.a.auth().currentUser.sendEmailVerification();case 9:e.next=23;break;case 11:e.prev=11,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?16:"auth/invalid-email"===e.t1?18:"auth/weak-password"===e.t1?20:22;break;case 16:return r.message="此帳號已被註冊！",e.abrupt("break",23);case 18:return r.message="帳號格式有誤！",e.abrupt("break",23);case 20:return r.message="密碼強度不足！",e.abrupt("break",23);case 22:r.message=e.t0.message;case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}},e,m,[[1,11]])})),function(e){return d.apply(this,arguments)}),A=(h=o()(s.a.mark(function e(t){var r,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,p.a.auth().signInWithEmailAndPassword(t.account,t.password);case 4:if((n=e.sent).emailVerified){e.next=8;break}return r.message="請先到信箱驗證您的帳號！",e.abrupt("return",r);case 8:p.a.auth().setPersistence(t.rememberLogin?p.a.auth.Auth.Persistence.LOCAL:p.a.auth.Auth.Persistence.SESSION),r={message:"success",uid:n.uid,account:t.account,displayName:n.displayName},e.next=27;break;case 12:e.prev=12,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?17:"auth/user-disabled"===e.t1?19:"auth/user-not-found"===e.t1?21:"auth/wrong-password"===e.t1?23:25;break;case 17:return r.message="無效的帳號格式！",e.abrupt("break",26);case 19:return r.message="此帳號已被禁用！",e.abrupt("break",26);case 21:return r.message="查無此帳號！",e.abrupt("break",26);case 23:return r.message="帳號或密碼錯誤！",e.abrupt("break",26);case 25:r.message=e.t0.message;case 26:case 27:return e.abrupt("return",r);case 28:case"end":return e.stop()}},e,m,[[1,12]])})),function(e){return h.apply(this,arguments)}),y=(l=o()(s.a.mark(function e(t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,p.a.auth().sendPasswordResetEmail(t||p.a.auth().currentUser.email);case 4:e.sent,r.message="請到您的信箱驗證您的帳號！",e.next=17;break;case 8:e.prev=8,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?13:15;break;case 13:return r.message="查無此帳號！",e.abrupt("break",16);case 15:r.message=e.t0.message;case 16:case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}},e,m,[[1,8]])})),function(e){return l.apply(this,arguments)}),I=(b=o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.auth().signOut();case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,m,[[0,6]])})),function(){return b.apply(this,arguments)}),O=function(){return p.a.auth().currentUser},U=(g=o()(s.a.mark(function e(t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={displayName:t.displayName,photoURL:t.photoURL},e.prev=1,e.next=4,p.a.auth().currentUser.updateProfile(r);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}},e,m,[[1,7]])})),function(e){return g.apply(this,arguments)}),L=function(){return w.ref("/OnlineMember/")},S=(v=o()(s.a.mark(function e(t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.ref("/OnlineMember/"),e.next=3,new a.a(function(e){r.set({userName:t||"一位匿名會員"}),e(t)});case 3:case"end":return e.stop()}},e,m)})),function(e){return v.apply(this,arguments)})},XoGa:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ac33677ece01ad6aea4e.js.map