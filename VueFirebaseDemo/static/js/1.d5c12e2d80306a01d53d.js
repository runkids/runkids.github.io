webpackJsonp([1],{C8hk:function(e,s,t){e.exports=t.p+"VueFirebaseDemo/static/media/dingdone.f46806b.mp3"},Hti4:function(e,s){},O8ky:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("Dd8w"),n=t.n(a),i=t("Xxa5"),r=t.n(i),o=t("exGp"),u=t.n(o),c=t("NYxO"),l=t("SSY3"),d={data:function(){return{newMsg:{message:"",timestamp:"",userName:"",uid:"",photoURL:""},allMsgs:[]}},methods:{addMsg:function(){var e=this;return u()(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.newMsg.userName=e.userInfo.displayName,e.newMsg.uid=e.userInfo.uid,e.newMsg.photoURL=e.userInfo.photoURL,e.newMsg.timestamp=Math.floor(Date.now()/1e3),s.next=6,Object(l.f)(e.newMsg);case 6:e.newMsg.message="";case 7:case"end":return s.stop()}},s,e)}))()}},computed:n()({},Object(c.c)(["userInfo"]),{disabled:function(){return""===this.newMsg.message}}),mounted:function(){var e=this;Object(l.b)().orderByChild("timestamp").on("value",function(s){var t=s.val(),a=[];for(var n in t)a.push(t[n]);e.allMsgs=a,e.allMsgs[a.length-1].uid!=e.userInfo.uid&&document.getElementById("bgMusic").play()})}},m={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"charRommContain"},[t("div",{staticClass:"msgbox"},e._l(e.allMsgs,function(s){return t("div",{key:s.timestamp},[s.uid!=e.userInfo.uid?t("div",{staticClass:"msgCard"},[t("img",{staticClass:"msgphoto",attrs:{src:s.photoURL,alt:s.userName}}),e._v(" "),s.uid!=e.userInfo.uid?t("div",{staticClass:"otherMsg"},[e._v(e._s(s.message))]):e._e()]):t("div",{staticClass:"msgCard",staticStyle:{float:"none"}},[t("div",{staticClass:"selfMsg"},[e._v(e._s(s.message))])])])})),e._v(" "),t("div",{staticClass:"typpingBox"},[t("el-input",{staticClass:"inputMsgBox",attrs:{type:"textarea",autosize:{minRows:3,maxRows:3},resize:"none",placeholder:"請輸入訊息"},model:{value:e.newMsg.message,callback:function(s){e.$set(e.newMsg,"message",s)},expression:"newMsg.message"}}),e._v(" "),t("el-button",{staticClass:"inputMsgBtn",attrs:{type:"primary",icon:"el-icon-back",circle:"",disabled:e.disabled},on:{click:e.addMsg}})],1),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("audio",{attrs:{id:"bgMusic"}},[s("source",{attrs:{src:t("C8hk"),type:"audio/mp3"}})])}]};var g=t("VU/8")(d,m,!1,function(e){t("Hti4")},null,null);s.default=g.exports}});
//# sourceMappingURL=1.d5c12e2d80306a01d53d.js.map