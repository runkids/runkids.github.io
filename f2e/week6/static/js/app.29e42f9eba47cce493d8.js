webpackJsonp([9],{A66B:function(e,t,r){e.exports=function(e){return function(){return r("Opzk")("./"+e+".vue")}}},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("zL8q"),s=r.n(a),u=r("m3sR"),c=r("gwsl"),o=r.n(c),i=(r("tvR6"),r("NYxO")),p=r("Xxa5"),d=r.n(p),f=r("exGp"),l=r.n(f),m={state:{stepActive:0,updateForm:{displayName:"",phoneNumber:"",photoURL:""},userInfo:null},getters:{getStepActive:function(e){return e.stepActive},getUserInfo:function(e){return e.userInfo},getUpdateForm:function(e){return e.updateForm}},actions:{initUserInfo:function(e){var t=this,r=e.commit;return l()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)();case 2:return n=e.sent,r("setUserInfo",n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,t)}))()}},mutations:{initStepActive:function(e){e.stepActive=0},updateStepActive:function(e){e.stepActive+=1},setUserInfo:function(e,t){e.userInfo=t},setUpdateFormData:function(e,t){e.updateForm=t},updateProfileImage:function(e,t){e.updateForm.photoURL=t}}};n.default.use(i.a);var h=new i.a.Store({modules:{signUp:m}}),v=r("/ocq"),g=r("A66B"),b=[{path:"/login",name:"login",component:g("Login/index"),meta:{requireAuth:!1}},{path:"/signUp",name:"signUp",component:g("CreateAccount/index"),meta:{requireAuth:!1}},{path:"/home",name:"home",component:g("Home/index"),meta:{requireAuth:!0}},{path:"*",redirect:{name:"home"},hidden:!0}];n.default.use(v.a);var w=new v.a({routes:b});w.beforeEach(function(e,t,r){var n=!!Object(u.c)();e.meta.requireAuth?n?r():r({path:"/login"}):r()}),w.afterEach(function(e,t,r){window.scrollTo(0,0)});var x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var k=r("VU/8")({name:"App"},x,!1,function(e){r("wtbH")},null,null).exports;n.default.use(s.a,{locale:o.a}),n.default.config.productionTip=!1;var U=void 0;u.a.onAuthStateChanged(function(){U||(U=new n.default({el:"#app",router:w,store:h,render:function(e){return e(k)}}))})},Opzk:function(e,t,r){var n={"./CreateAccount/index.vue":["EEzE",1,0],"./CreateAccount/lastStep.vue":["fF0C",7],"./CreateAccount/stepOne.vue":["zZ3c",0,6],"./CreateAccount/stepThree.vue":["rljS",0,4],"./CreateAccount/stepTwo.vue":["vqjX",0,5],"./Home/index.vue":["esL9",3],"./Login/index.vue":["uCMJ",0,2]};function a(e){var t=n[e];return t?Promise.all(t.slice(1).map(r.e)).then(function(){return r(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(n)},a.id="Opzk",e.exports=a},m3sR:function(e,t,r){"use strict";var n=r("Xxa5"),a=r.n(n),s=r("exGp"),u=r.n(s),c=r("kxiW"),o=r.n(c),i={apiKey:"AIzaSyDcLFUgG69v9MMBCa9H8HeLWPAyijgGftU",authDomain:"loginwithvue.firebaseapp.com",databaseURL:"https://loginwithvue.firebaseio.com",projectId:"loginwithvue",storageBucket:"loginwithvue.appspot.com",messagingSenderId:"622688795465"};r.d(t,"a",function(){return m}),r.d(t,"g",function(){return h}),r.d(t,"f",function(){return v}),r.d(t,"d",function(){return g}),t.c=function(){return m.currentUser},r.d(t,"h",function(){return w}),t.e=function(){try{m.signOut()}catch(e){console.log(e)}},r.d(t,"b",function(){return k}),o.a.initializeApp(i);var p,d,f,l=o.a.storage(),m=o.a.auth(),h=(p=u()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,m.languageCode="zh-tw",e.next=5,m.createUserWithEmailAndPassword(t.account,t.password);case 5:return r.message="success",e.next=8,m.currentUser.sendEmailVerification();case 8:e.next=22;break;case 10:e.prev=10,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?15:"auth/invalid-email"===e.t1?17:"auth/weak-password"===e.t1?19:21;break;case 15:return r.message="Email already in use",e.abrupt("break",22);case 17:return r.message="Invalid email",e.abrupt("break",22);case 19:return r.message="Weak password",e.abrupt("break",22);case 21:r.message=e.t0.message;case 22:return e.abrupt("return",r);case 23:case"end":return e.stop()}},e,this,[[1,10]])})),function(e){return p.apply(this,arguments)}),v=(d=u()(a.a.mark(function e(t){var r,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,m.signInWithEmailAndPassword(t.account,t.password);case 4:if((n=e.sent).user.emailVerified){e.next=8;break}return r.message="Please check your email to verify your account",e.abrupt("return",r);case 8:m.setPersistence(o.a.auth.Auth.Persistence.SESSION),r={message:"success",uid:n.uid,account:t.account,displayName:n.displayName},e.next=27;break;case 12:e.prev=12,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?17:"auth/user-disabled"===e.t1?19:"auth/user-not-found"===e.t1?21:"auth/wrong-password"===e.t1?23:25;break;case 17:return r.message="Invalid Email",e.abrupt("break",26);case 19:return r.message="User Disabled",e.abrupt("break",26);case 21:return r.message="User Not Found",e.abrupt("break",26);case 23:return r.message="Wrong Password",e.abrupt("break",26);case 25:r.message=e.t0.message;case 26:case 27:return e.abrupt("return",r);case 28:case"end":return e.stop()}},e,this,[[1,12]])})),function(e){return d.apply(this,arguments)}),g=(f=u()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,m.sendPasswordResetEmail(t||m.currentUser.email);case 4:r.message="We'll send a reset password link to the email address, please check.",e.next=16;break;case 7:e.prev=7,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?12:14;break;case 12:return r.message="User Not Found",e.abrupt("break",15);case 14:r.message=e.t0.message;case 15:case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return f.apply(this,arguments)});var b,w=(b=u()(a.a.mark(function e(t){var r,n,s,u=t.displayName,c=t.photoURL;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="",n=l.ref("/demo").child(m.currentUser.uid),e.next=5,n.putString(c,"data_url",{contentType:"image/png"});case 5:return e.next=7,n.getDownloadURL().then(function(e){r=e});case 7:return e.next=9,m.currentUser.updateProfile({displayName:u,photoURL:r});case 9:return s=e.sent,e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this,[[0,13]])})),function(e){return b.apply(this,arguments)});var x,k=(x=u()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.currentUser.delete();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])})),function(){return x.apply(this,arguments)})},tvR6:function(e,t){},wtbH:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.29e42f9eba47cce493d8.js.map