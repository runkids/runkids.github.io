{"version":3,"sources":["webpack:///src/views/CreateAccount/stepThree.vue","webpack:///./src/views/CreateAccount/stepThree.vue?615a","webpack:///./src/views/CreateAccount/stepThree.vue"],"names":["stepThree","mixins","data","isLoading","methods","submitForm","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","window","scrollTo","Object","firebaseAuthAPI","getUpdateForm","updateStepActive","changeClass","stop","fileSelected","event","file","target","files","item","reader","FileReader","addEventListener","imageLoader","readAsDataURL","_this2","imgwidth","imgheight","Image","e","alert","path","width","height","updateProfileImage","result","$message","type","message","CreateAccount_stepThree","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","element-loading-text","_m","_v","staticClass","for","src","photoURL","id","on","change","disabled","click","staticRenderFns","staticStyle","padding","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.a9b7396a60d397cd85b7.js","sourcesContent":["<template>\n  <div v-loading=\"isLoading\" element-loading-text=\"Please Wait...\">\n    <div class=\"title\" style=\"padding: 10px\">\n      <h3>Profile Picture</h3>\n      <h4>You're Almost Done!</h4>\n    </div>\n    <label for=\"file-upload\" class='uploadBox'>\n      <div class='icon'><i class=\"fas fa-image\"></i></div>\n      <div class=\"showUserImg\"  v-show=\"getUpdateForm.photoURL\">\n        <img :src=\"getUpdateForm.photoURL\"/>\n      </div>\n      <div class='info' v-show=\"!getUpdateForm.photoURL\">\n        <div>UPLOAD UP 1 PHOTO</div>\n        <div>MAX SIZE: 150*150px</div>\n      </div>\n    </label>\n    <input id=\"file-upload\" type=\"file\" @change=\"fileSelected\"/>\n    <el-button class=\"stepBtn\" type=\"primary\" @click=\"submitForm\"\n               :disabled=\"!getUpdateForm.photoURL\">\n      DONE\n    </el-button>\n  </div>\n</template>\n\n<script>\nimport { updateUserInfo } from '@/api/firebaseAuthAPI';\nimport mixins from './mixins';\n\nexport default {\n  mixins: [mixins],\n  data() {\n    return {\n      isLoading: false,\n    };\n  },\n  methods: {\n    async submitForm() {\n      window.scrollTo(0, 0);\n      this.isLoading = true;\n\n      await updateUserInfo(this.getUpdateForm);\n      this.updateStepActive();\n\n      this.isLoading = false;\n      this.changeClass('.step-three', '.lastStep');\n    },\n    fileSelected(event) {\n      const file = event.target.files.item(0); // 取得File物件\n      const reader = new FileReader(); // 建立FileReader 監聽 Load 事件\n      reader.addEventListener('load', this.imageLoader);\n      reader.readAsDataURL(file);\n    },\n    imageLoader(event) {\n      const img = new Image();\n      let imgwidth = 0;\n      let imgheight = 0;\n      const maxwidth = 150; // 圖片寬度上限\n      const maxheight = 150;// 圖片高度上限\n      // img.src = event.target.result;\n      img.addEventListener('load', (e) => {\n        alert('imageLoad');\n        imgwidth = e.path[0].width;\n        imgheight = e.path[0].height;\n        alert(imgwidth);\n        if (imgwidth <= maxwidth && imgheight <= maxheight) {\n          this.updateProfileImage(event.target.result);\n        } else {\n          this.updateProfileImage('');\n          this.$message({\n            type: 'error',\n            message: 'Max Size: 150*150px',\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../assets/style/main.scss\";\n\n.showUserImg{\n  position: absolute;\n  @include size(300px,150px);\n  margin: 20px 0;\n  display: flex;\n  justify-content: center;\n  bottom: -20px;\n  > img{\n    @include size(150px,100%);\n  }\n}\n\n#file-upload{\n  display: none;\n}\n.uploadBox{\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  @include size(300px,150px);\n  box-sizing: border-box;\n  border: 1px dashed black;\n  color: $black_color;\n  position: relative;\n  cursor: pointer;\n  .icon{\n    font-size: 50px;\n  }\n  .info{\n    line-height: 24px;\n    :first-child{\n      font-size: 15px;\n    }\n    :last-child{\n      font-size: 11px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/CreateAccount/stepThree.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"element-loading-text\":\"Please Wait...\"}},[_vm._m(0),_vm._v(\" \"),_c('label',{staticClass:\"uploadBox\",attrs:{\"for\":\"file-upload\"}},[_vm._m(1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getUpdateForm.photoURL),expression:\"getUpdateForm.photoURL\"}],staticClass:\"showUserImg\"},[_c('img',{attrs:{\"src\":_vm.getUpdateForm.photoURL}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getUpdateForm.photoURL),expression:\"!getUpdateForm.photoURL\"}],staticClass:\"info\"},[_c('div',[_vm._v(\"UPLOAD UP 1 PHOTO\")]),_vm._v(\" \"),_c('div',[_vm._v(\"MAX SIZE: 150*150px\")])])]),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"file-upload\",\"type\":\"file\"},on:{\"change\":_vm.fileSelected}}),_vm._v(\" \"),_c('el-button',{staticClass:\"stepBtn\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.getUpdateForm.photoURL},on:{\"click\":_vm.submitForm}},[_vm._v(\"\\n    DONE\\n  \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\",staticStyle:{\"padding\":\"10px\"}},[_c('h3',[_vm._v(\"Profile Picture\")]),_vm._v(\" \"),_c('h4',[_vm._v(\"You're Almost Done!\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-image\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c225e9c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/CreateAccount/stepThree.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c225e9c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./stepThree.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./stepThree.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./stepThree.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c225e9c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./stepThree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/CreateAccount/stepThree.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}